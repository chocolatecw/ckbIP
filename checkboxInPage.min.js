var ckbIP=(function(){var lsKeyPrefix="checkBoxInPageByCW:";var checkBoxSelectorStr;var checkBoxName="checkBoxInPage";var checkAllBoxId="#checkAll";return{init:init,getAllCheckedIdList:getAllCheckedIdList,clear:clear};function getAllCheckedIdList(){var idArr=[];var sessionStorageLength=sessionStorage.length;for(var i=0;i<sessionStorageLength;i++){var key=sessionStorage.key(i);var index=key.indexOf(lsKeyPrefix);if(index!==-1&&sessionStorage.getItem(key)==="1"){idArr.push(key.substring(index+lsKeyPrefix.length))}}return idArr}function init(param){initParam(param);var listDom=$(checkBoxSelectorStr);addEvent(listDom);var allCheckFlag=true;for(var i=0;i<listDom.length;i++){var tmpDom=listDom[i];var id=$(tmpDom).val();if(sessionStorage.getItem(lsKeyPrefix+id)==="1"){$(tmpDom).attr("checked","checked")}else{$(tmpDom).attr("checked",false);allCheckFlag=false}}if(allCheckFlag){$(checkAllBoxId).attr("checked","checked")}}function initParam(param){if(param!==undefined&&param!==null){if(param.checkAllId!==undefined){checkAllBoxId="#"+param.checkAllId}if(param.checkBoxName!==undefined){checkBoxName=param.checkBoxName}}checkBoxSelectorStr="input[name='"+checkBoxName+"']"}function addEvent(curListDom){curListDom.on("change",onCheckChange);$(checkAllBoxId).on("click",onCheckAllClick)}function clear(){var delKeyArr=[];var length=sessionStorage.length;for(var i=0;i<length;i++){var key=sessionStorage.key(i);var index=key.indexOf(lsKeyPrefix);if(index!==-1){delKeyArr.push(key)}}var delKeyLength=delKeyArr.length;for(var j=0;j<delKeyLength;j++){sessionStorage.removeItem(delKeyArr[j])}}function onCheckAllClick(){var checkAllStatus=$(checkAllBoxId).attr("checked");var curPageCheckListDom=$(checkBoxSelectorStr);if(checkAllStatus==="checked"){curPageCheckListDom.attr("checked","checked");for(var i=0;i<curPageCheckListDom.length;i++){var curTmpDom=curPageCheckListDom[i];var id=$(curTmpDom).val();sessionStorage.setItem(lsKeyPrefix+id,"1")}}else{curPageCheckListDom.attr("checked",false);for(var i=0;i<curPageCheckListDom.length;i++){var curTmpDom=curPageCheckListDom[i];var id=$(curTmpDom).val();sessionStorage.setItem(lsKeyPrefix+id,"0")}}}function onCheckChange(event){var id=$(this).val();var checkStatus=$(this).attr("checked");if(checkStatus==="checked"){sessionStorage.setItem(lsKeyPrefix+id,"1");var curlistDom=$(checkBoxSelectorStr+":not(:checked)");if(curlistDom.length===0){$(checkAllBoxId).attr("checked","checked")}}else{sessionStorage.setItem(lsKeyPrefix+id,"0");$(checkAllBoxId).attr("checked",false)}}})();